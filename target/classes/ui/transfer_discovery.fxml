<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>
<BorderPane fx:id="root" prefWidth="1000" prefHeight="640" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.lanshare.test.ui.TransferDiscoveryController" id="appRoot">
    <!-- é¡¶éƒ¨æ ‡é¢˜æ ï¼šå“ç‰Œä¸Žå…¨å±€æ“ä½œ -->
    <top>
        <HBox fx:id="paneHeader" styleClass="app-header" spacing="8" alignment="CENTER" BorderPane.alignment="CENTER">
            <HBox spacing="8" alignment="CENTER_LEFT">
                <Label text="ðŸ“¡" style="-fx-font-size: 24px;"/>
                <Label text="LanShare" styleClass="title"/>
            </HBox>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnStart" text="å¯åŠ¨å‘çŽ°" styleClass="primary-btn"/>
            <Button fx:id="btnStop" text="åœæ­¢å‘çŽ°" styleClass="secondary-btn"/>
            <Button fx:id="btnRefresh" text="åˆ·æ–°å¹¿æ’­" styleClass="secondary-btn"/>
            <CheckBox fx:id="chkLocalServer" text="æœ¬æœºå¼€å¯æŽ¥æ”¶"/>
        </HBox>
    </top>

    <!-- å·¦ä¾§å¯¼èˆªï¼šå¸¸ç”¨æ“ä½œå…¥å£ -->
    <left>
        <VBox fx:id="sideNav" styleClass="side-nav" prefWidth="220" spacing="8">
            <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>
            <Button fx:id="btnConnect" text="å»ºç«‹è¿žæŽ¥" styleClass="primary-btn" maxWidth="Infinity" prefHeight="40"/>
            <Button fx:id="btnChoose" text="é€‰æ‹©æ–‡ä»¶" styleClass="primary-btn" maxWidth="Infinity" prefHeight="40"/>
            <Button fx:id="btnSend" text="å‘é€åˆ°é€‰ä¸­è®¾å¤‡" styleClass="primary-btn" maxWidth="Infinity" prefHeight="40"/>
            
            <Region VBox.vgrow="ALWAYS"/>
            
            <!-- æ–‡ä»¶ä¿¡æ¯å±•ç¤ºåŒºåŸŸ -->
            <StackPane alignment="TOP_RIGHT">
                <VBox fx:id="fileInfoBox" spacing="10" alignment="CENTER" style="-fx-background-color: #f8f9fa; -fx-background-radius: 15; -fx-border-radius: 15; -fx-border-color: #dee2e6; -fx-border-width: 2;" prefHeight="150" maxHeight="150">
                    <StackPane>
                        <Label fx:id="lblFileIcon" text="ðŸ“„" style="-fx-font-size: 64px; -fx-text-fill: #6c757d;" visible="true" managed="true"/>
                        <ImageView fx:id="imgFileIcon" fitWidth="64" fitHeight="64" preserveRatio="true" visible="false" managed="false"/>
                    </StackPane>
                    <Label fx:id="lblFileName" text="æœªé€‰æ‹©æ–‡ä»¶" style="-fx-font-size: 14px; -fx-text-fill: #6c757d; -fx-font-weight: bold;" wrapText="true" textAlignment="CENTER"/>
                </VBox>
                <Button fx:id="btnCancelFile" text="âœ–" styleClass="secondary-btn, cancel-btn" visible="false">
                    <StackPane.margin>
                        <Insets top="8" right="8"/>
                    </StackPane.margin>
                </Button>
            </StackPane>
            
            <!-- ç›®æ ‡è®¾å¤‡å±•ç¤ºåŒºåŸŸ -->
            <StackPane alignment="TOP_RIGHT">
                <VBox fx:id="targetInfoBox" spacing="10" alignment="CENTER" style="-fx-background-color: #f8f9fa; -fx-background-radius: 15; -fx-border-radius: 15; -fx-border-color: #dee2e6; -fx-border-width: 2;" prefHeight="150" maxHeight="150">
                    <Label fx:id="lblTargetIcon" text="ðŸ‘¤" style="-fx-font-size: 64px; -fx-text-fill: #6c757d;"/>
                    <Label fx:id="lblTargetName" text="æœªé€‰æ‹©è®¾å¤‡" style="-fx-font-size: 14px; -fx-text-fill: #6c757d; -fx-font-weight: bold;" wrapText="true" textAlignment="CENTER"/>
                </VBox>
                <Button fx:id="btnCancelTarget" text="âœ–" styleClass="secondary-btn, cancel-btn" visible="false">
                    <StackPane.margin>
                        <Insets top="8" right="8"/>
                    </StackPane.margin>
                </Button>
            </StackPane>
            
            <Separator/>
            <Button fx:id="btnSettings" text="âš™ è®¾ç½®" styleClass="secondary-btn" maxWidth="Infinity" prefHeight="40"/>
        </VBox>
    </left>

    <!-- ä¸»æ“ä½œåŒºåŸŸï¼šè®¾å¤‡åˆ—è¡¨ + ä¼ è¾“ä¸Žæ—¥å¿— -->
    <center>
        <GridPane hgap="8" vgap="8">
            <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>
            <columnConstraints>
                <ColumnConstraints percentWidth="40"/>
                <ColumnConstraints percentWidth="60"/>
            </columnConstraints>
            <rowConstraints>
                <RowConstraints vgrow="ALWAYS"/>
            </rowConstraints>

            <!-- å·²å‘çŽ°è®¾å¤‡å¡ç‰‡ -->
            <VBox GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="card" spacing="8">
                <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>
                <Label text="å·²å‘çŽ°è®¾å¤‡" styleClass="subtitle"/>
                <ListView fx:id="listDevices" VBox.vgrow="ALWAYS"/>
            </VBox>

            <!-- ä¼ è¾“ä¸Žæ—¥å¿—å¡ç‰‡ -->
            <VBox GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="card" spacing="8">
                <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>
                <Label text="ä¼ è¾“è¿›åº¦" styleClass="subtitle"/>
                <HBox spacing="8">
                    <ProgressBar fx:id="progressBar" prefWidth="420"/>
                    <Label fx:id="lblProgress" text="0%" styleClass="caption"/>
                </HBox>
                <HBox spacing="16">
                    <Label fx:id="lblSpeed" text="é€Ÿåº¦: --" styleClass="caption"/>
                    <Label fx:id="lblTimeRemaining" text="å‰©ä½™æ—¶é—´: --" styleClass="caption"/>
                </HBox>
                <HBox spacing="8">
                    <Button fx:id="btnPause" text="æš‚åœ" styleClass="secondary-btn" disable="true"/>
                    <Button fx:id="btnResume" text="æ¢å¤" styleClass="secondary-btn" disable="true"/>
                    <Button fx:id="btnCancel" text="å–æ¶ˆä¼ è¾“" styleClass="secondary-btn" disable="true"/>
                </HBox>
                <HBox alignment="CENTER_LEFT">
                    <Label text="æ—¥å¿—" styleClass="subtitle"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnClearLog" text="æ¸…ç©ºæ—¥å¿—" styleClass="secondary-btn"/>
                </HBox>
                <StackPane VBox.vgrow="ALWAYS" style="-fx-background-color: #f8f9fa; -fx-background-radius: 10; -fx-border-color: #dee2e6; -fx-border-width: 1; -fx-border-radius: 10;">
                    <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
                    <ListView fx:id="listLogs"/>
                </StackPane>
            </VBox>
        </GridPane>
    </center>
</BorderPane>
